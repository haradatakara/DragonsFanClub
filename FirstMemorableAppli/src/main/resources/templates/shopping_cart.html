<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">
<title>PRODUCT_LIST</title>
<!-- <link rel="favicon" href="/img/user/icon.png"> -->
<!-- Bootstrap core CSS -->
<link rel="icon" href="/img/icon.png">
<link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
<link href="/css/style.css" th:href="@{/css/shopping.css}"
	rel="stylesheet">
<link href="/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}"
	rel="stylesheet">
<!-- Custom styles for this template -->
<link href="starter-template.css" th:href="@{/css/starter-template.css}"
	rel="stylesheet">
</head>
<body style="background-color: #eee;">
	<div th:replace="navi :: nav"></div>
	<h2 style="max-width: 1300px; margin: 0 auto; padding: 50px 20px;">SHOPPING
		CART</h2>
	<main>
	    <p th:if="${error}" th:text="${error}" style="color: red; text-align: center;"></p>
		<table class="table table-striped">
			<thead>
				<tr>
					<th style="width: 100px;" scope="col">No.</th>
					<th style="width: 100px;" scope="col">ProductName</th>
					<th style="width: 100px;" scope="col">Image</th>
					<th style="width: 100px; " scope="col">L</th>
					<th style="width: 100px;" scope="col">XL</th>
					<th style="width: 100px;" scope="col">XXL</th>
					<th style="width: 100px;" scope="col">キャンセル</th>	
				</tr>
			</thead>
		</table>
		<th:block th:each=" l, Stat: ${list}">
			<form th:action="@{/mystyle/landing/cart/delete/{proId} (proId = *{Stat.index})}">
				<table class="table table-striped">
					<tbody>
						<tr>
							<td style="width: 100px; padding: 50px 20px;" scope="row" th:text="${Stat.count}">1</td>
							<td style="width: 100px; padding: 50px 0;"th:text="${l.getPro_name()}">Mark</td>
							<td style="width: 100px; padding-left:30px; padding-top: 20px;">
							<img th:src="|${l.getPro_img()}img1.jpg|" style="width:100px; height: 100px;"></td>
							<td style="width: 100px; padding: 50px 0;" th:text="${l.getSize_l()}"></td>
							<td style="width: 100px; padding: 50px 0;" th:text="${l.getSize_xl()}"></td>
							<td style="width: 100px; padding: 50px 0;" th:text="${l.getSize_xxl()}"></td>
							<td style="width: 100px; padding: 50px 0;">
								<button type="submit" class="btn btn-primary">
									<img src="/img/trash.png">
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</form>
		</th:block>

	</main>
	<!-- Button trigger modal -->
	<div style="display: flex; justify-content: center; margin:100px 0; padding:20px 0;">
		<button type="button" class="btn btn-primary" data-bs-toggle="modal"
			data-bs-target="#exampleModal" style="margin-right: 10px;">買い物を続ける</button>
		<button type="submit"onclick="location.href='/mystyle/landing/transaction'"class="btn btn-success">購入する</button>
	</div>

	<!-- Modal -->
	<div class="modal fade" id="exampleModal" tabindex="-1"
		aria-labelledby="exampleModalLabel" aria-hidden="true"style="text-align: center; margin: 0 auto;">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">追加完了！</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">在庫がなくなる可能性がございます。お早めのご購入をお勧めします！</div>
				<div class="modal-footer">
					<button type="button" onclick="location.href='/mystyle/landing/shopping'" class="btn btn-primary">買い物を続けよう！</button>
				</div>
			</div>
		</div>
	</div>

	<footer style="padding-top: 20px;">
		<p class="footer" style="text-align:center; padding-top: 90px;">&copy;Takara.H</p>
	</footer>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
</body>
</html>